<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manager Dashboard</title>
    <style>

    </style>
</head>

<body>
    <!-- Header Section -->
    <header class="header">
        <img src="./images/logo.png" alt="Logo">
        <h1>Manager Dashboard</h1>
    </header>
    <div class="container">
        <!-- Manager Profile Section -->
        <div class="manager-profile">
            <img id="profilePhoto" src="./images/avatar.png" alt="Manager Profile">
            <div class="manager-details">
                <p id="managerName">Name: John Doe</p>
                <p id="managerTeams">Teams Involved: 4</p>
                <p id="managerEmail">Email: john.doe@company.com</p>
                <p id="managerPhone">Phone: +1-555-555-5555</p>
            </div>
        </div>

        <!-- Teams Section -->
        <div class="teams-section">
            <h2>Teams</h2>
            <div id="teams-container">
                <!-- Existing Teams -->
                <div class="team" data-team="team-alpha">
                    <h3>Team Alpha</h3>
                    <div class="team-leader">
                        <p><strong>Leader:</strong> Alice</p>
                    </div>
                    <div class="team-members">
                        <p>Bob</p>
                        <p>Charlie</p>
                        <p>David</p>
                    </div>
                </div>
                <div class="team" data-team="team-beta">
                    <h3>Team Beta</h3>
                    <div class="team-leader">
                        <p><strong>Leader:</strong> Eve</p>
                    </div>
                    <div class="team-members">
                        <p>Frank</p>
                        <p>Grace</p>
                        <p>Hannah</p>
                    </div>
                </div>
                <div class="team" data-team="team-gamma">
                    <h3>Team Gamma</h3>
                    <div class="team-leader">
                        <p><strong>Leader:</strong> Ian</p>
                    </div>
                    <div class="team-members">
                        <p>Jack</p>
                        <p>Kelly</p>
                        <p>Liam</p>
                    </div>
                </div>
                <div class="team" data-team="team-delta">
                    <h3>Team Delta</h3>
                    <div class="team-leader">
                        <p><strong>Leader:</strong> Mia</p>
                    </div>
                    <div class="team-members">
                        <p>Nina</p>
                        <p>Oliver</p>
                        <p>Paul</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Employee Section (Details shown when a team member is clicked) -->
        <div class="employee-section" id="employee-section">
            <h2>Employee Details</h2>

            <!-- Circular Progress for Targets -->
            <div class="progress-bar" id="targetProgress" style="--progress: 0.75">
                <span id="progressValue">75%</span>
            </div>

            <!-- Calendar for leaves -->
            <h3>Leaves Taken</h3>
            <div class="calendar" id="calendar"></div>

            <!-- Pending Leave Requests -->
            <h3>Pending Leaves</h3>
            <div class="leave-options">
                <button class="approve">Approve</button>
                <button class="deny">Deny</button>
            </div>
        </div>
    </div>
    <script>
        // Add click events for all teams
        document.querySelectorAll('.team').forEach(team => {
            team.addEventListener('click', () => {
                // Toggle team details visibility
                team.classList.toggle('active');
            });
        });

        // Sample JSON data structure (to replace fetch call in this example)
        const teamData = {
            "teams": [
                {
                    "name": "Team Alpha",
                    "leader": "Alice",
                    "members": ["Bob", "Charlie", "David"]
                },
                {
                    "name": "Team Beta",
                    "leader": "Eve",
                    "members": ["Frank", "Grace", "Hannah"]
                }
            ]
        };

        // Dynamically populate teams (if needed)
        // (For this example, we're using pre-defined HTML elements)
        teamData.teams.forEach(team => {
            const teamDiv = document.querySelector(`[data-team="${team.name.toLowerCase().replace(' ', '-')}"]`);

            if (teamDiv) {
                const leaderDiv = teamDiv.querySelector('.team-leader');
                const membersDiv = teamDiv.querySelector('.team-members');

                leaderDiv.innerHTML = `<p><strong>Leader:</strong> ${team.leader}</p>`;
                membersDiv.innerHTML = team.members.map(member => `<p>${member}</p>`).join('');
            }
        });

        // Simulate fetching employee data and updating the dashboard
        const updateEmployeeDetails = (progress, leaves) => {
            document.getElementById('targetProgress').style.setProperty('--progress', progress);
            document.getElementById('progressValue').textContent = `${Math.round(progress * 100)}%`;

            const calendar = document.getElementById('calendar');
            calendar.innerHTML = ''; // Clear previous entries
            for (let i = 1; i <= 30; i++) {
                const day = document.createElement('div');
                day.classList.add('calendar-day');
                if (leaves.includes(i)) {
                    day.classList.add('leave-taken');
                    day.textContent = i;
                } else {
                    day.classList.add('no-leave');
                    day.textContent = i;
                }
                calendar.appendChild(day);
            }
        };

        // Example: Update with dummy data
        updateEmployeeDetails(0.75, [2, 5, 12, 20]);
    </script>

</body>

</html>